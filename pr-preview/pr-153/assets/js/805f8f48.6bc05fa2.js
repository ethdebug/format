(self.webpackChunk_ethdebug_format_web=self.webpackChunk_ethdebug_format_web||[]).push([[5068],{18153:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var s=n(52322),i=n(45392),r=n(61376);const o={sidebar_position:2},a="Finding example pointers",c={id:"implementation-guides/pointers/testing/example-pointers",title:"Finding example pointers",description:"These integration tests seek to minimize the use of bespoke data whose",source:"@site/docs/implementation-guides/pointers/testing/example-pointers.mdx",sourceDirName:"implementation-guides/pointers/testing",slug:"/implementation-guides/pointers/testing/example-pointers",permalink:"/format/pr-preview/pr-153/docs/implementation-guides/pointers/testing/example-pointers",draft:!1,unlisted:!1,editUrl:"https://github.com/ethdebug/format/tree/main/packages/web/docs/implementation-guides/pointers/testing/example-pointers.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"End-to-end testing",permalink:"/format/pr-preview/pr-153/docs/implementation-guides/pointers/testing/"},next:{title:"Invoking the compiler",permalink:"/format/pr-preview/pr-153/docs/implementation-guides/pointers/testing/compilation"}},l={},d=[];function p(e){const t={code:"code",h1:"h1",p:"p",strong:"strong",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"finding-example-pointers",children:"Finding example pointers"}),"\n",(0,s.jsx)(t.p,{children:"These integration tests seek to minimize the use of bespoke data whose\nrepresentations exist solely within the testing-associated code modules."}),"\n",(0,s.jsxs)(t.p,{children:["Instead of containing custom pointer objects defined inline, the integration\ntests for this reference implementation use the official pointer examples\nthat are distributed as part of the ",(0,s.jsx)(t.strong,{children:"ethdebug/format/pointer"})," schema itself."]}),"\n",(0,s.jsxs)(t.p,{children:['Since JSON Schema does not offer a means by which examples can be named (it\nonly defines a way to represent an ordered list of unlabeled example values),\nthese tests rely on searching for particular examples by their use of uniquely\nindicative string values (e.g., the "string storage" example pointer is the\nonly example to contain the string ',(0,s.jsx)(t.code,{children:'"string-storage-contract-variable-slot"'}),")."]}),"\n",(0,s.jsxs)(t.p,{children:["The logic for doing this search is captured by the ",(0,s.jsx)(t.code,{children:"findExamplePointer()"}),"\nfunction:"]}),"\n",(0,s.jsx)(r.Z,{packageName:"@ethdebug/pointers",sourcePath:"test/examples.ts",extract:e=>e.getVariableStatement("findExamplePointer")}),"\n",(0,s.jsxs)(t.p,{children:["(This function is written as an immediately-invoked inline function so as to\navoid unnecessary redundant calls to ",(0,s.jsx)(t.code,{children:"describeSchema()"}),".)"]})]})}function m(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},48313:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=48313,e.exports=t},61376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var s=n(84560),i=n.n(s),r=n(20477),o=n(42408);var a=n(2784),c=n(27718),l=n(52322);function d(e){let{code:t,links:n,...s}=e;const r=(0,a.useRef)(null),[o,c]=(0,a.useState)(null);return(0,a.useEffect)((()=>{function e(){if(r.current){const e=r.current.querySelector("pre > code");if(e){const t=Array.from(e.childNodes).flatMap((e=>p(e,n)));c((0,l.jsx)("pre",{className:e.parentElement?.className,children:(0,l.jsx)("code",{className:e.className,children:t})}))}}}e();const t=new MutationObserver(e);return r.current&&t.observe(r.current,{childList:!0,subtree:!0}),()=>t.disconnect()}),[t,n]),o||(0,l.jsx)("div",{ref:r,children:(0,l.jsx)(i(),{...s,children:t})})}function p(e,t){return e.nodeType===Node.TEXT_NODE?function(e,t){const n=[];let s=e.textContent||"",i=0;for(const[r,o]of Object.entries(t)){let e=s.indexOf(r,i);for(;-1!==e;)e>i&&n.push(s.slice(i,e)),n.push((0,l.jsx)(c.Z,{to:o,className:"linked-code-block-link",children:r},`${r}-${e}`)),i=e+r.length,e=s.indexOf(r,i)}i<s.length&&n.push(s.slice(i));return n}(e,t):e.nodeType===Node.ELEMENT_NODE?function(e,t){const n=e.tagName.toLowerCase(),s={key:m++,className:e.className};e.style&&e.style.cssText&&(s.style=function(e){const t={};for(const n of e.split(";"))if(n){const[e,s]=n.split(":");if(e&&s){t[e.trim().replace(/-./g,(e=>e[1].toUpperCase()))]=s.trim()}}return t}(e.style.cssText));if(u.has(n))return a.createElement(n,s);const i=Array.from(e.childNodes).flatMap((e=>p(e,t)));return a.createElement(n,s,i)}(e,t):[]}let m=0;const u=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function h(e){let{packageName:t,sourcePath:n,includePackageNameInTitle:s=!1,extract:a,links:c={},...p}=e;const m=function(e){const{packages:t}=(0,o.eZ)("project-code-plugin");if(!(e in t))throw new Error(`Unknown package name ${e}`);const{sourceFiles:n}=t[e],s=new r.IKL({useInMemoryFileSystem:!0});for(const{filePath:i,text:r}of n)s.createSourceFile(i,r,{overwrite:!0});return s}(t),u=m.getSourceFileOrThrow(n),h=a?a(u,m):u,f=h.getFullText().trim(),g=!a,x=s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("strong",{children:t})," ",n]}):n;return Object.keys(c).length>0?(0,l.jsx)(d,{code:f,links:c,language:"typescript",...p}):(0,l.jsx)(i(),{language:"typescript",...g?{title:x,showLineNumbers:!0}:{showLineNumbers:!1},...p,children:h.getFullText().trim()})}},56699:()=>{},68379:()=>{},68382:()=>{},78867:()=>{},21212:()=>{},89854:()=>{},25800:()=>{},93037:()=>{},26996:()=>{}}]);