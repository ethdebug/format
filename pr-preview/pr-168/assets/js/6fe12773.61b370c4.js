"use strict";(globalThis.webpackChunk_ethdebug_format_web=globalThis.webpackChunk_ethdebug_format_web||[]).push([[7786],{792(e,n,s){s.d(n,{A:()=>d});s(14041);var i=s(40665);const r="container_Hrln",t="link_y57m",o="label_feh8",a="schema_kJnE",c="arrow_YbSg";var l=s(31085);function d({schema:e,href:n}){return(0,l.jsx)("div",{className:r,children:(0,l.jsxs)(i.A,{to:n,className:t,children:[(0,l.jsx)("span",{className:o,children:"Schema:"}),(0,l.jsx)("span",{className:a,children:e}),(0,l.jsx)("span",{className:c,children:"\u2192"})]})})}},25799(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"core-schemas/info/resources","title":"Resources","description":"The ethdebug/format/info/resources schema represents compilation-level","source":"@site/docs/core-schemas/info/resources.mdx","sourceDirName":"core-schemas/info","slug":"/core-schemas/info/resources","permalink":"/format/pr-preview/pr-168/docs/core-schemas/info/resources","draft":false,"unlisted":false,"editUrl":"https://github.com/ethdebug/format/tree/main/packages/web/docs/core-schemas/info/resources.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"pagination_next":"examples/index"},"sidebar":"docsSidebar","previous":{"title":"Info","permalink":"/format/pr-preview/pr-168/docs/core-schemas/info/"},"next":{"title":"Examples","permalink":"/format/pr-preview/pr-168/docs/examples/"}}');var r=s(31085),t=s(71184),o=s(792),a=s(87270);const c={sidebar_position:2,pagination_next:"examples/index"},l="Resources",d={},h=[{value:"What resources contains",id:"what-resources-contains",level:2},{value:"Sources",id:"sources",level:2},{value:"Source ranges",id:"source-ranges",level:2},{value:"Compilation",id:"compilation",level:2},{value:"Shared types",id:"shared-types",level:2},{value:"Info vs. resources",id:"info-vs-resources",level:2},{value:"Related schemas",id:"related-schemas",level:2},{value:"Specification",id:"specification",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"resources",children:"Resources"})}),"\n",(0,r.jsx)(o.A,{schema:"ethdebug/format/info/resources",href:"/spec/info/resources"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"ethdebug/format/info/resources"})," schema represents compilation-level\nshared data \u2014 information that multiple programs within a compilation might\nreference."]}),"\n",(0,r.jsx)(n.h2,{id:"what-resources-contains",children:"What resources contains"}),"\n",(0,r.jsx)(n.p,{children:"Resources provide a way to avoid duplication by centralizing:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compilation"})," \u2014 compiler invocation metadata and source files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shared types"})," \u2014 type definitions used by multiple programs\n(keyed by name)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shared pointers"})," \u2014 pointer templates used by multiple programs\n(keyed by name)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"sources",children:"Sources"}),"\n",(0,r.jsxs)(n.p,{children:["Sources are part of the ",(0,r.jsx)(n.code,{children:"compilation"})," object (not a separate\ntop-level field). Each source has an identifier, path, and required\n",(0,r.jsx)(n.code,{children:"contents"}),":"]}),"\n",(0,r.jsx)(a.A,{schema:"materials/source",href:"/spec/materials/source",title:"Source files (inside compilation)",children:'{\n  "compilation": {\n    "id": "compilation-1",\n    "compiler": { "name": "solc", "version": "0.8.20" },\n    "sources": [\n      {\n        "id": "source-1",\n        "path": "contracts/Token.sol",\n        "language": "solidity",\n        "contents": "// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n..."\n      },\n      {\n        "id": "source-2",\n        "path": "contracts/Utils.sol",\n        "language": "solidity",\n        "contents": "// SPDX-License-Identifier: MIT\\n..."\n      }\n    ]\n  }\n}'}),"\n",(0,r.jsx)(n.p,{children:"Sources include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"id"})," \u2014 identifier for cross-referencing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"path"})," \u2014 file path (relative or absolute)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"language"})," \u2014 source language"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"contents"})," \u2014 the actual source code text (required)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"source-ranges",children:"Source ranges"}),"\n",(0,r.jsxs)(n.p,{children:["Throughout ",(0,r.jsx)(n.strong,{children:"ethdebug/format"}),", source locations are specified as ranges within\na source file:"]}),"\n",(0,r.jsx)(a.A,{schema:"materials/source-range",href:"/spec/materials/source-range",title:"Source range",children:'{\n  "source": { "id": "source-1" },\n  "range": {\n    "offset": 150,\n    "length": 25\n  }\n}'}),"\n",(0,r.jsx)(n.p,{children:'This identifies bytes 150-174 in the source with id "source-1". Ranges use byte\noffsets, not line/column positions.'}),"\n",(0,r.jsx)(n.h2,{id:"compilation",children:"Compilation"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"compilation"})," field (singular) captures information about how the\ncode was compiled:"]}),"\n",(0,r.jsx)(a.A,{schema:"materials/compilation",href:"/spec/materials/compilation",title:"Compilation metadata",children:'{\n  "compilation": {\n    "id": "compilation-1",\n    "compiler": {\n      "name": "solc",\n      "version": "0.8.20"\n    },\n    "sources": [\n      {\n        "id": "source-1",\n        "path": "contracts/Token.sol",\n        "language": "solidity",\n        "contents": "// ..."\n      }\n    ],\n    "settings": { }\n  }\n}'}),"\n",(0,r.jsx)(n.p,{children:"Programs reference their compilation, allowing debuggers to\nunderstand the build context."}),"\n",(0,r.jsx)(n.h2,{id:"shared-types",children:"Shared types"}),"\n",(0,r.jsxs)(n.p,{children:["Type definitions that appear in multiple programs can be defined once\nin resources and referenced by name. The ",(0,r.jsx)(n.code,{children:"types"})," field is an object\nkeyed by name:"]}),"\n",(0,r.jsx)(a.A,{schema:"info/resources",href:"/spec/info/resources",title:"Shared type definitions",children:'{\n  "types": {\n    "struct__Coordinate": {\n      "kind": "struct",\n      "contains": [\n        { "name": "x", "type": { "kind": "uint", "bits": 128 } },\n        { "name": "y", "type": { "kind": "uint", "bits": 128 } }\n      ],\n      "definition": {\n        "name": "Coordinate",\n        "location": {\n          "source": { "id": 5 },\n          "range": { "offset": 18, "length": 55 }\n        }\n      }\n    }\n  },\n  "pointers": {}\n}'}),"\n",(0,r.jsx)(n.p,{children:"Programs then reference these types by name rather than duplicating\nthe full definition."}),"\n",(0,r.jsx)(n.h2,{id:"info-vs-resources",children:"Info vs. resources"}),"\n",(0,r.jsx)(n.p,{children:"The key distinction:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"info"})," \u2014 complete standalone representation with full metadata"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"info/resources"})," \u2014 debug data without duplicating existing compiler output"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Since compilers typically already produce structured JSON with compilation\nmetadata, they can emit resources objects and let tooling combine them into\nfull info objects."}),"\n",(0,r.jsx)(n.h2,{id:"related-schemas",children:"Related schemas"}),"\n",(0,r.jsxs)(n.p,{children:["Resources builds on schemas from the ",(0,r.jsx)(n.strong,{children:"ethdebug/format/materials"})," namespace:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/spec/materials/source",children:"Source"})})," \u2014 individual source file representation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/spec/materials/source-range",children:"Source range"})})," \u2014 location within a source"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/spec/materials/compilation",children:"Compilation"})})," \u2014 compiler invocation details"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/spec/materials/id",children:"Identifiers"})})," \u2014 ID and reference patterns"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"specification",children:"Specification"}),"\n",(0,r.jsxs)(n.p,{children:["For the formal schema definition, see the\n",(0,r.jsx)(n.a,{href:"/spec/info/resources",children:"info/resources specification"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},87270(e,n,s){s.d(n,{A:()=>p});s(14041);var i=s(40665),r=s(54034),t=s.n(r);const o="container_eo8G",a="header_CGit",c="title_NhXp",l="schemaLink_R3qF",d="schemaName_hPpq",h="schemaLabel_TlZH";var u=s(31085);function p({schema:e,href:n,children:s,title:r}){const p="string"==typeof s?s:JSON.stringify(s,null,2),m=e.startsWith("ethdebug/format/")?e:`ethdebug/format/${e}`;return(0,u.jsxs)("div",{className:o,children:[(0,u.jsxs)("div",{className:a,children:[r&&(0,u.jsx)("span",{className:c,children:r}),(0,u.jsxs)(i.A,{to:n,className:l,children:[(0,u.jsx)("span",{className:h,children:"Schema:"}),(0,u.jsx)("span",{className:d,children:m})]})]}),(0,u.jsx)(t(),{language:"json",children:p})]})}}}]);