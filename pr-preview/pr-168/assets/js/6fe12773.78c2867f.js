"use strict";(globalThis.webpackChunk_ethdebug_format_web=globalThis.webpackChunk_ethdebug_format_web||[]).push([[7786],{792(e,s,n){n.d(s,{A:()=>h});n(14041);var i=n(40665);const r="container_Hrln",t="link_y57m",c="label_feh8",o="schema_kJnE",a="arrow_YbSg";var l=n(31085);function h({schema:e,href:s}){return(0,l.jsx)("div",{className:r,children:(0,l.jsxs)(i.A,{to:s,className:t,children:[(0,l.jsx)("span",{className:c,children:"Schema:"}),(0,l.jsx)("span",{className:o,children:e}),(0,l.jsx)("span",{className:a,children:"\u2192"})]})})}},25799(e,s,n){n.r(s),n.d(s,{assets:()=>h,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"core-schemas/info/resources","title":"Resources","description":"The ethdebug/format/info/resources schema represents compilation-level","source":"@site/docs/core-schemas/info/resources.mdx","sourceDirName":"core-schemas/info","slug":"/core-schemas/info/resources","permalink":"/format/pr-preview/pr-168/docs/core-schemas/info/resources","draft":false,"unlisted":false,"editUrl":"https://github.com/ethdebug/format/tree/main/packages/web/docs/core-schemas/info/resources.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"pagination_next":"examples/index"},"sidebar":"docsSidebar","previous":{"title":"Info","permalink":"/format/pr-preview/pr-168/docs/core-schemas/info/"},"next":{"title":"Examples","permalink":"/format/pr-preview/pr-168/docs/examples/"}}');var r=n(31085),t=n(71184),c=n(792),o=n(87270);const a={sidebar_position:2,pagination_next:"examples/index"},l="Resources",h={},d=[{value:"What resources contains",id:"what-resources-contains",level:2},{value:"Sources",id:"sources",level:2},{value:"Source ranges",id:"source-ranges",level:2},{value:"Compilations",id:"compilations",level:2},{value:"Shared types",id:"shared-types",level:2},{value:"Info vs. resources",id:"info-vs-resources",level:2},{value:"Related schemas",id:"related-schemas",level:2},{value:"Specification",id:"specification",level:2}];function u(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"resources",children:"Resources"})}),"\n",(0,r.jsx)(c.A,{schema:"ethdebug/format/info/resources",href:"/spec/info/resources"}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.strong,{children:"ethdebug/format/info/resources"})," schema represents compilation-level\nshared data \u2014 information that multiple programs within a compilation might\nreference."]}),"\n",(0,r.jsx)(s.h2,{id:"what-resources-contains",children:"What resources contains"}),"\n",(0,r.jsx)(s.p,{children:"Resources provide a way to avoid duplication by centralizing:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sources"})," \u2014 original source file content or references"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Compilations"})," \u2014 compiler invocation metadata"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Shared types"})," \u2014 type definitions used by multiple programs"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"sources",children:"Sources"}),"\n",(0,r.jsx)(s.p,{children:"Sources represent the original source files that were compiled. Each source has\nan identifier and either contains the full content or references an external\nlocation:"}),"\n",(0,r.jsx)(o.A,{schema:"materials/source",href:"/spec/materials/source",title:"Source files",children:'{\n  "sources": [\n    {\n      "id": "source-1",\n      "path": "contracts/Token.sol",\n      "contents": "// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n..."\n    },\n    {\n      "id": "source-2",\n      "path": "contracts/Utils.sol"\n    }\n  ]\n}'}),"\n",(0,r.jsx)(s.p,{children:"Sources can include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"path"})," \u2014 file path (relative or absolute)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"contents"})," \u2014 the actual source code text"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"contentHash"})," \u2014 hash of the contents for verification"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["When ",(0,r.jsx)(s.code,{children:"contents"})," is omitted, tools must retrieve the source from the file system\nor another source."]}),"\n",(0,r.jsx)(s.h2,{id:"source-ranges",children:"Source ranges"}),"\n",(0,r.jsxs)(s.p,{children:["Throughout ",(0,r.jsx)(s.strong,{children:"ethdebug/format"}),", source locations are specified as ranges within\na source file:"]}),"\n",(0,r.jsx)(o.A,{schema:"materials/source-range",href:"/spec/materials/source-range",title:"Source range",children:'{\n  "source": { "id": "source-1" },\n  "range": {\n    "offset": 150,\n    "length": 25\n  }\n}'}),"\n",(0,r.jsx)(s.p,{children:'This identifies bytes 150-174 in the source with id "source-1". Ranges use byte\noffsets, not line/column positions.'}),"\n",(0,r.jsx)(s.h2,{id:"compilations",children:"Compilations"}),"\n",(0,r.jsx)(s.p,{children:"Compilation metadata captures information about how the code was compiled:"}),"\n",(0,r.jsx)(o.A,{schema:"materials/compilation",href:"/spec/materials/compilation",title:"Compilation metadata",children:'{\n  "compilations": [\n    {\n      "id": "compilation-1",\n      "compiler": {\n        "name": "solc",\n        "version": "0.8.20"\n      },\n      "sources": ["source-1", "source-2"],\n      "settings": { /* compiler settings */ }\n    }\n  ]\n}'}),"\n",(0,r.jsx)(s.p,{children:"Programs reference their compilation, allowing debuggers to understand the\nbuild context."}),"\n",(0,r.jsx)(s.h2,{id:"shared-types",children:"Shared types"}),"\n",(0,r.jsx)(s.p,{children:"Type definitions that appear in multiple programs can be defined once in\nresources and referenced by ID:"}),"\n",(0,r.jsx)(o.A,{schema:"type",href:"/spec/type/overview",title:"Shared type definitions",children:'{\n  "types": [\n    {\n      "id": "type-balance",\n      "kind": "uint",\n      "bits": 256\n    },\n    {\n      "id": "type-user",\n      "kind": "struct",\n      "definition": { "name": "User" },\n      "contains": [\n        { "name": "balance", "type": { "id": "type-balance" } },\n        { "name": "active", "type": { "kind": "bool" } }\n      ]\n    }\n  ]\n}'}),"\n",(0,r.jsx)(s.p,{children:"Programs then reference these types by ID rather than duplicating the full\ndefinition."}),"\n",(0,r.jsx)(s.h2,{id:"info-vs-resources",children:"Info vs. resources"}),"\n",(0,r.jsx)(s.p,{children:"The key distinction:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"info"})," \u2014 complete standalone representation with full metadata"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"info/resources"})," \u2014 debug data without duplicating existing compiler output"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Since compilers typically already produce structured JSON with compilation\nmetadata, they can emit resources objects and let tooling combine them into\nfull info objects."}),"\n",(0,r.jsx)(s.h2,{id:"related-schemas",children:"Related schemas"}),"\n",(0,r.jsxs)(s.p,{children:["Resources builds on schemas from the ",(0,r.jsx)(s.strong,{children:"ethdebug/format/materials"})," namespace:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"/spec/materials/source",children:"Source"})})," \u2014 individual source file representation"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"/spec/materials/source-range",children:"Source range"})})," \u2014 location within a source"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"/spec/materials/compilation",children:"Compilation"})})," \u2014 compiler invocation details"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"/spec/materials/id",children:"Identifiers"})})," \u2014 ID and reference patterns"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"specification",children:"Specification"}),"\n",(0,r.jsxs)(s.p,{children:["For the formal schema definition, see the\n",(0,r.jsx)(s.a,{href:"/spec/info/resources",children:"info/resources specification"}),"."]})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},87270(e,s,n){n.d(s,{A:()=>p});n(14041);var i=n(40665),r=n(54034),t=n.n(r);const c="container_eo8G",o="header_CGit",a="title_NhXp",l="schemaLink_R3qF",h="schemaName_hPpq",d="schemaLabel_TlZH";var u=n(31085);function p({schema:e,href:s,children:n,title:r}){const p="string"==typeof n?n:JSON.stringify(n,null,2),m=e.startsWith("ethdebug/format/")?e:`ethdebug/format/${e}`;return(0,u.jsxs)("div",{className:c,children:[(0,u.jsxs)("div",{className:o,children:[r&&(0,u.jsx)("span",{className:a,children:r}),(0,u.jsxs)(i.A,{to:s,className:l,children:[(0,u.jsx)("span",{className:d,children:"Schema:"}),(0,u.jsx)("span",{className:h,children:m})]})]}),(0,u.jsx)(t(),{language:"json",children:p})]})}}}]);