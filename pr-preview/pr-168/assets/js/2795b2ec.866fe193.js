"use strict";(globalThis.webpackChunk_ethdebug_format_web=globalThis.webpackChunk_ethdebug_format_web||[]).push([[1232],{792(e,n,s){s.d(n,{A:()=>l});s(14041);var i=s(40665);const t="container_Hrln",r="link_y57m",a="label_feh8",c="schema_kJnE",p="arrow_YbSg";var d=s(31085);function l({schema:e,href:n}){return(0,d.jsx)("div",{className:t,children:(0,d.jsxs)(i.A,{to:n,className:r,children:[(0,d.jsx)("span",{className:a,children:"Schema:"}),(0,d.jsx)("span",{className:c,children:e}),(0,d.jsx)("span",{className:p,children:"\u2192"})]})})}},19797(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>m,frontMatter:()=>p,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"core-schemas/types/composite","title":"Composite types","description":"<SpecLink","source":"@site/docs/core-schemas/types/composite.mdx","sourceDirName":"core-schemas/types","slug":"/core-schemas/types/composite","permalink":"/format/pr-preview/pr-168/docs/core-schemas/types/composite","draft":false,"unlisted":false,"editUrl":"https://github.com/ethdebug/format/tree/main/packages/web/docs/core-schemas/types/composite.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Elementary types","permalink":"/format/pr-preview/pr-168/docs/core-schemas/types/elementary"},"next":{"title":"Pointers","permalink":"/format/pr-preview/pr-168/docs/core-schemas/pointers/"}}');var t=s(31085),r=s(71184),a=s(792),c=s(87270);const p={sidebar_position:3},d="Composite types",l={},o=[{value:"Arrays",id:"arrays",level:2},{value:"Dynamic arrays",id:"dynamic-arrays",level:3},{value:"Fixed-size arrays",id:"fixed-size-arrays",level:3},{value:"Structs",id:"structs",level:2},{value:"Mappings",id:"mappings",level:2},{value:"Nested mappings",id:"nested-mappings",level:3},{value:"Tuples",id:"tuples",level:2},{value:"Type aliases",id:"type-aliases",level:2},{value:"Function types",id:"function-types",level:2},{value:"Using type references",id:"using-type-references",level:2},{value:"Learn more",id:"learn-more",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"composite-types",children:"Composite types"})}),"\n",(0,t.jsx)(a.A,{schema:"ethdebug/format/type/complex",href:"/spec/category/complex-types"}),"\n",(0,t.jsxs)(n.p,{children:["Composite types (also called complex types) contain other types. They use the\n",(0,t.jsx)(n.code,{children:"contains"})," field to express this composition."]}),"\n",(0,t.jsx)(n.h2,{id:"arrays",children:"Arrays"}),"\n",(0,t.jsx)(n.p,{children:"Arrays represent ordered collections of a single element type."}),"\n",(0,t.jsx)(n.h3,{id:"dynamic-arrays",children:"Dynamic arrays"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/array",href:"/spec/type/complex/array",children:'{\n  "kind": "array",\n  "contains": {\n    "type": { "kind": "uint", "bits": 256 }\n  }\n}'}),"\n",(0,t.jsxs)(n.p,{children:["This represents ",(0,t.jsx)(n.code,{children:"uint256[]"}),"\u2014an array of any length."]}),"\n",(0,t.jsx)(n.h3,{id:"fixed-size-arrays",children:"Fixed-size arrays"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/array",href:"/spec/type/complex/array",children:'{\n  "kind": "array",\n  "count": 10,\n  "contains": {\n    "type": { "kind": "address" }\n  }\n}'}),"\n",(0,t.jsxs)(n.p,{children:["This represents ",(0,t.jsx)(n.code,{children:"address[10]"}),"\u2014exactly 10 addresses."]}),"\n",(0,t.jsx)(n.h2,{id:"structs",children:"Structs"}),"\n",(0,t.jsx)(n.p,{children:"Structs group named members of potentially different types:"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/struct",href:"/spec/type/complex/struct",children:'{\n  "kind": "struct",\n  "definition": {\n    "name": "User"\n  },\n  "contains": [\n    {\n      "name": "balance",\n      "type": { "kind": "uint", "bits": 256 }\n    },\n    {\n      "name": "owner",\n      "type": { "kind": "address" }\n    },\n    {\n      "name": "active",\n      "type": { "kind": "bool" }\n    }\n  ]\n}'}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"contains"})," field is an ordered list. Each element includes:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"name"}),": The member's identifier"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"type"}),": The member's type (inline or by reference)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"mappings",children:"Mappings"}),"\n",(0,t.jsx)(n.p,{children:"Mappings represent key-value associations:"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/mapping",href:"/spec/type/complex/mapping",children:'{\n  "kind": "mapping",\n  "contains": {\n    "key": {\n      "type": { "kind": "address" }\n    },\n    "value": {\n      "type": { "kind": "uint", "bits": 256 }\n    }\n  }\n}'}),"\n",(0,t.jsxs)(n.p,{children:["This represents ",(0,t.jsx)(n.code,{children:"mapping(address => uint256)"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"nested-mappings",children:"Nested mappings"}),"\n",(0,t.jsx)(n.p,{children:"Mappings can nest by using another mapping as the value type:"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/mapping",href:"/spec/type/complex/mapping",title:"Nested mapping (e.g., ERC-20 allowances)",children:'{\n  "kind": "mapping",\n  "contains": {\n    "key": {\n      "type": { "kind": "address" }\n    },\n    "value": {\n      "type": {\n        "kind": "mapping",\n        "contains": {\n          "key": { "type": { "kind": "address" } },\n          "value": { "type": { "kind": "uint", "bits": 256 } }\n        }\n      }\n    }\n  }\n}'}),"\n",(0,t.jsxs)(n.p,{children:["This represents ",(0,t.jsx)(n.code,{children:"mapping(address => mapping(address => uint256))"}),", commonly\nused for ERC-20 allowances."]}),"\n",(0,t.jsx)(n.h2,{id:"tuples",children:"Tuples"}),"\n",(0,t.jsx)(n.p,{children:"Tuples represent ordered, unnamed sequences:"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/tuple",href:"/spec/type/complex/tuple",children:'{\n  "kind": "tuple",\n  "contains": [\n    { "type": { "kind": "uint", "bits": 256 } },\n    { "type": { "kind": "address" } },\n    { "type": { "kind": "bool" } }\n  ]\n}'}),"\n",(0,t.jsx)(n.p,{children:"Unlike structs, tuple elements don't have names. Tuples commonly appear in\nfunction return types and event parameters."}),"\n",(0,t.jsx)(n.h2,{id:"type-aliases",children:"Type aliases"}),"\n",(0,t.jsx)(n.p,{children:"Aliases give names to other types:"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/alias",href:"/spec/type/complex/alias",children:'{\n  "kind": "alias",\n  "definition": {\n    "name": "TokenId"\n  },\n  "contains": {\n    "type": { "kind": "uint", "bits": 256 }\n  }\n}'}),"\n",(0,t.jsxs)(n.p,{children:["This represents a user-defined type like Solidity's ",(0,t.jsx)(n.code,{children:"type TokenId is uint256"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"function-types",children:"Function types"}),"\n",(0,t.jsx)(n.p,{children:"Function types represent callable references:"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/function",href:"/spec/type/complex/function",children:'{\n  "kind": "function",\n  "contains": {\n    "parameters": {\n      "type": {\n        "kind": "tuple",\n        "contains": [\n          { "type": { "kind": "address" } },\n          { "type": { "kind": "uint", "bits": 256 } }\n        ]\n      }\n    },\n    "returns": {\n      "type": { "kind": "bool" }\n    }\n  }\n}'}),"\n",(0,t.jsx)(n.h2,{id:"using-type-references",children:"Using type references"}),"\n",(0,t.jsx)(n.p,{children:"For deeply nested or repeated types, use references to avoid duplication:"}),"\n",(0,t.jsx)(c.A,{schema:"type/complex/struct",href:"/spec/type/complex/struct",title:"Struct with type references",children:'{\n  "kind": "struct",\n  "definition": { "name": "Order" },\n  "contains": [\n    {\n      "name": "maker",\n      "type": { "id": "user-type-id" }\n    },\n    {\n      "name": "taker",\n      "type": { "id": "user-type-id" }\n    }\n  ]\n}'}),"\n",(0,t.jsxs)(n.p,{children:["Both ",(0,t.jsx)(n.code,{children:"maker"})," and ",(0,t.jsx)(n.code,{children:"taker"})," reference the same ",(0,t.jsx)(n.code,{children:"User"})," type by ID rather than\nrepeating the full definition."]}),"\n",(0,t.jsx)(n.h2,{id:"learn-more",children:"Learn more"}),"\n",(0,t.jsxs)(n.p,{children:["For complete schema definitions, see the\n",(0,t.jsx)(n.a,{href:"/spec/category/complex-types",children:"complex types specification"}),"."]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},87270(e,n,s){s.d(n,{A:()=>m});s(14041);var i=s(40665),t=s(54034),r=s.n(t);const a="container_eo8G",c="header_CGit",p="title_NhXp",d="schemaLink_R3qF",l="schemaName_hPpq",o="schemaLabel_TlZH";var h=s(31085);function m({schema:e,href:n,children:s,title:t}){const m="string"==typeof s?s:JSON.stringify(s,null,2),y=e.startsWith("ethdebug/format/")?e:`ethdebug/format/${e}`;return(0,h.jsxs)("div",{className:a,children:[(0,h.jsxs)("div",{className:c,children:[t&&(0,h.jsx)("span",{className:p,children:t}),(0,h.jsxs)(i.A,{to:n,className:d,children:[(0,h.jsx)("span",{className:o,children:"Schema:"}),(0,h.jsx)("span",{className:l,children:y})]})]}),(0,h.jsx)(r(),{language:"json",children:m})]})}}}]);