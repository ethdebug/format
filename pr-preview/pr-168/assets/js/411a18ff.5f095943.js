"use strict";(globalThis.webpackChunk_ethdebug_format_web=globalThis.webpackChunk_ethdebug_format_web||[]).push([[5055],{55207(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>o,frontMatter:()=>a,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"types/composite","title":"Composite types","description":"Composite types (also called complex types) contain other types. They use the","source":"@site/docs/types/composite.mdx","sourceDirName":"types","slug":"/types/composite","permalink":"/format/pr-preview/pr-168/docs/types/composite","draft":false,"unlisted":false,"editUrl":"https://github.com/ethdebug/format/tree/main/packages/web/docs/types/composite.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Elementary types","permalink":"/format/pr-preview/pr-168/docs/types/elementary"},"next":{"title":"Representation","permalink":"/format/pr-preview/pr-168/docs/types/representation"}}');var r=s(31085),t=s(71184);const a={sidebar_position:3},d="Composite types",l={},p=[{value:"Arrays",id:"arrays",level:2},{value:"Dynamic arrays",id:"dynamic-arrays",level:3},{value:"Fixed-size arrays",id:"fixed-size-arrays",level:3},{value:"Structs",id:"structs",level:2},{value:"Mappings",id:"mappings",level:2},{value:"Nested mappings",id:"nested-mappings",level:3},{value:"Tuples",id:"tuples",level:2},{value:"Type aliases",id:"type-aliases",level:2},{value:"Function types",id:"function-types",level:2},{value:"Using type references",id:"using-type-references",level:2},{value:"Learn more",id:"learn-more",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"composite-types",children:"Composite types"})}),"\n",(0,r.jsxs)(n.p,{children:["Composite types (also called complex types) contain other types. They use the\n",(0,r.jsx)(n.code,{children:"contains"})," field to express this composition."]}),"\n",(0,r.jsx)(n.h2,{id:"arrays",children:"Arrays"}),"\n",(0,r.jsx)(n.p,{children:"Arrays represent ordered collections of a single element type."}),"\n",(0,r.jsx)(n.h3,{id:"dynamic-arrays",children:"Dynamic arrays"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "array",\n  "contains": {\n    "type": { "kind": "uint", "bits": 256 }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This represents ",(0,r.jsx)(n.code,{children:"uint256[]"}),"\u2014an array of any length."]}),"\n",(0,r.jsx)(n.h3,{id:"fixed-size-arrays",children:"Fixed-size arrays"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "array",\n  "count": 10,\n  "contains": {\n    "type": { "kind": "address" }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This represents ",(0,r.jsx)(n.code,{children:"address[10]"}),"\u2014exactly 10 addresses."]}),"\n",(0,r.jsx)(n.h2,{id:"structs",children:"Structs"}),"\n",(0,r.jsx)(n.p,{children:"Structs group named members of potentially different types:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "struct",\n  "definition": {\n    "name": "User"\n  },\n  "contains": [\n    {\n      "name": "balance",\n      "type": { "kind": "uint", "bits": 256 }\n    },\n    {\n      "name": "owner",\n      "type": { "kind": "address" }\n    },\n    {\n      "name": "active",\n      "type": { "kind": "bool" }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"contains"})," field is an ordered list. Each element includes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"}),": The member's identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"type"}),": The member's type (inline or by reference)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"mappings",children:"Mappings"}),"\n",(0,r.jsx)(n.p,{children:"Mappings represent key-value associations:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "mapping",\n  "contains": {\n    "key": {\n      "type": { "kind": "address" }\n    },\n    "value": {\n      "type": { "kind": "uint", "bits": 256 }\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This represents ",(0,r.jsx)(n.code,{children:"mapping(address => uint256)"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"nested-mappings",children:"Nested mappings"}),"\n",(0,r.jsx)(n.p,{children:"Mappings can nest by using another mapping as the value type:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "mapping",\n  "contains": {\n    "key": {\n      "type": { "kind": "address" }\n    },\n    "value": {\n      "type": {\n        "kind": "mapping",\n        "contains": {\n          "key": { "type": { "kind": "address" } },\n          "value": { "type": { "kind": "uint", "bits": 256 } }\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This represents ",(0,r.jsx)(n.code,{children:"mapping(address => mapping(address => uint256))"}),", commonly\nused for ERC-20 allowances."]}),"\n",(0,r.jsx)(n.h2,{id:"tuples",children:"Tuples"}),"\n",(0,r.jsx)(n.p,{children:"Tuples represent ordered, unnamed sequences:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "tuple",\n  "contains": [\n    { "type": { "kind": "uint", "bits": 256 } },\n    { "type": { "kind": "address" } },\n    { "type": { "kind": "bool" } }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Unlike structs, tuple elements don't have names. Tuples commonly appear in\nfunction return types and event parameters."}),"\n",(0,r.jsx)(n.h2,{id:"type-aliases",children:"Type aliases"}),"\n",(0,r.jsx)(n.p,{children:"Aliases give names to other types:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "alias",\n  "definition": {\n    "name": "TokenId"\n  },\n  "contains": {\n    "type": { "kind": "uint", "bits": 256 }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This represents a user-defined type like Solidity's ",(0,r.jsx)(n.code,{children:"type TokenId is uint256"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"function-types",children:"Function types"}),"\n",(0,r.jsx)(n.p,{children:"Function types represent callable references:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "function",\n  "contains": {\n    "parameters": {\n      "type": {\n        "kind": "tuple",\n        "contains": [\n          { "type": { "kind": "address" } },\n          { "type": { "kind": "uint", "bits": 256 } }\n        ]\n      }\n    },\n    "returns": {\n      "type": { "kind": "bool" }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"using-type-references",children:"Using type references"}),"\n",(0,r.jsx)(n.p,{children:"For deeply nested or repeated types, use references to avoid duplication:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "kind": "struct",\n  "definition": { "name": "Order" },\n  "contains": [\n    {\n      "name": "maker",\n      "type": { "id": "user-type-id" }\n    },\n    {\n      "name": "taker",\n      "type": { "id": "user-type-id" }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Both ",(0,r.jsx)(n.code,{children:"maker"})," and ",(0,r.jsx)(n.code,{children:"taker"})," reference the same ",(0,r.jsx)(n.code,{children:"User"})," type by ID rather than\nrepeating the full definition."]}),"\n",(0,r.jsx)(n.h2,{id:"learn-more",children:"Learn more"}),"\n",(0,r.jsxs)(n.p,{children:["For complete schema definitions, see the\n",(0,r.jsx)(n.a,{href:"/spec/category/complex-types",children:"complex types specification"}),"."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);