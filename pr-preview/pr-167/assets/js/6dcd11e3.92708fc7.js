(globalThis.webpackChunk_ethdebug_format_web=globalThis.webpackChunk_ethdebug_format_web||[]).push([[8002],{2338(){},6177(){},14636(e){function r(e){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=14636,e.exports=r},29034(){},33288(){},37711(){},48223(e,r,t){"use strict";t.r(r),t.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"implementation-guides/pointers/types/cursors","title":"Cursor objects","description":"The core functionality that @ethdebug/pointers provides is the","source":"@site/docs/implementation-guides/pointers/types/cursors.mdx","sourceDirName":"implementation-guides/pointers/types","slug":"/implementation-guides/pointers/types/cursors","permalink":"/format/pr-preview/pr-167/docs/implementation-guides/pointers/types/cursors","draft":false,"unlisted":false,"editUrl":"https://github.com/ethdebug/format/tree/main/packages/web/docs/implementation-guides/pointers/types/cursors.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Data and machines","permalink":"/format/pr-preview/pr-167/docs/implementation-guides/pointers/types/data-and-machines"},"next":{"title":"Reading from pointer regions","permalink":"/format/pr-preview/pr-167/docs/implementation-guides/pointers/reading-from-regions"}}');var s=t(31085),o=t(71184),i=t(76827),c=t(50507);const a={sidebar_position:4},l="Cursor objects",d={},u=[{value:"Cursor views and regions",id:"cursor-views-and-regions",level:2}];function p(e){const r={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"cursor-objects",children:"Cursor objects"})}),"\n",(0,s.jsxs)(r.p,{children:["The core functionality that ",(0,s.jsx)(r.strong,{children:"@ethdebug/pointers"})," provides is the\n",(0,s.jsx)(r.code,{children:"dereference(pointer: Pointer)"})," function. This function returns a ",(0,s.jsx)(r.code,{children:"Cursor"}),"\nobject."]}),"\n",(0,s.jsx)(c.A,{packageName:"@ethdebug/pointers",sourcePath:"src/cursor.ts",extract:e=>e.getExportedDeclarations().get("Cursor").find((e=>e.getKind()===i.a66.InterfaceDeclaration))}),"\n",(0,s.jsxs)(r.p,{children:["A ",(0,s.jsx)(r.code,{children:"Cursor"})," represents the closure around some pointer, generating concrete\ninformation about data locations and bytes ",(0,s.jsx)(r.em,{children:"only in consideration of"}),"\na particular machine state."]}),"\n",(0,s.jsx)(r.h2,{id:"cursor-views-and-regions",children:"Cursor views and regions"}),"\n",(0,s.jsxs)(r.p,{children:["Viewing a ",(0,s.jsx)(r.code,{children:"Cursor"})," with a machine state yields two key results:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["A collection of ",(0,s.jsx)(r.code,{children:"Cursor.Region"})," objects representing the pointer in\nterms of fully-evaluated slots, offsets, conditionals, etc."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["A ",(0,s.jsx)(r.code,{children:"read(region: Cursor.Region): Promise<Data>"})," method for reading\nbytes from the machine"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Importantly"}),", a ",(0,s.jsx)(r.code,{children:"Cursor.Region"})," is a fully-evaluated\n",(0,s.jsx)(r.code,{children:"Pointer.Region"}),". While the schema allows pointer regions to\ndefine their slots, offsets, lengths, etc. using complex expressions that\ncan reference internal variables and other regions, a ",(0,s.jsx)(r.code,{children:"Cursor.Region"}),"\nrepresents the runtime result of evaluating all these expressions: a\nspecific range of bytes in a specific data location."]}),"\n",(0,s.jsxs)(r.p,{children:["The full listing of ",(0,s.jsx)(r.code,{children:"namespace Cursor"})," follows:"]}),"\n",(0,s.jsx)(c.A,{packageName:"@ethdebug/pointers",sourcePath:"src/cursor.ts",extract:e=>e.getExportedDeclarations().get("Cursor").find((e=>e.getKind()===i.a66.ModuleDeclaration))})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},50507(e,r,t){"use strict";t.d(r,{A:()=>m});var n=t(54034),s=t.n(n),o=t(76827),i=t(6181);var c=t(14041),a=t(40665),l=t(31085);function d({code:e,links:r,...t}){const n=(0,c.useRef)(null),[o,i]=(0,c.useState)(null);return(0,c.useEffect)((()=>{function e(){if(n.current){const e=n.current.querySelector("pre > code");if(e){const t=Array.from(e.childNodes).flatMap((e=>u(e,r)));i((0,l.jsx)("pre",{className:e.parentElement?.className,children:(0,l.jsx)("code",{className:e.className,children:t})}))}}}e();const t=new MutationObserver(e);return n.current&&t.observe(n.current,{childList:!0,subtree:!0}),()=>t.disconnect()}),[e,r]),o||(0,l.jsx)("div",{ref:n,children:(0,l.jsx)(s(),{...t,children:e})})}function u(e,r){return e.nodeType===Node.TEXT_NODE?function(e,r){const t=[],n=e.textContent||"";let s=0;for(const[o,i]of Object.entries(r)){let e=n.indexOf(o,s);for(;-1!==e;)e>s&&t.push(n.slice(s,e)),t.push((0,l.jsx)(a.A,{to:i,className:"linked-code-block-link",children:o},`${o}-${e}`)),s=e+o.length,e=n.indexOf(o,s)}s<n.length&&t.push(n.slice(s));return t}(e,r):e.nodeType===Node.ELEMENT_NODE?function(e,r){const t=e.tagName.toLowerCase(),n={key:p++,className:e.className};e.style&&e.style.cssText&&(n.style=function(e){const r={};for(const t of e.split(";"))if(t){const[e,n]=t.split(":");if(e&&n){r[e.trim().replace(/-./g,(e=>e[1].toUpperCase()))]=n.trim()}}return r}(e.style.cssText));if(h.has(t))return c.createElement(t,n);const s=Array.from(e.childNodes).flatMap((e=>u(e,r)));return c.createElement(t,n,s)}(e,r):[]}let p=0;const h=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function m({packageName:e,sourcePath:r,includePackageNameInTitle:t=!1,extract:n,links:c={},...a}){const u=function(e){const{packages:r}=(0,i.P_)("project-code-plugin");if(!(e in r))throw new Error(`Unknown package name ${e}`);const{sourceFiles:t}=r[e],n=new o.MMY({useInMemoryFileSystem:!0});for(const{filePath:s,text:o}of t)n.createSourceFile(s,o,{overwrite:!0});return n}(e),p=u.getSourceFileOrThrow(r),h=n?n(p,u):p,m=h.getFullText().trim(),g=!n,f=t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("strong",{children:e})," ",r]}):r;return Object.keys(c).length>0?(0,l.jsx)(d,{code:m,links:c,language:"typescript",...a}):(0,l.jsx)(s(),{language:"typescript",...g?{title:f,showLineNumbers:!0}:{showLineNumbers:!1},...a,children:h.getFullText().trim()})}},66052(){},89978(){},91797(){},92560(){}}]);