$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "schema:ethdebug/format/pointer/collection/reference"

title: ethdebug/format/pointer/collection/reference
description: |
  A pointer by named reference to a pointer template (defined elsewhere).

type: object

properties:
  template:
    title: Template identifier
    $ref: "schema:ethdebug/format/pointer/identifier"

  yields:
    title: Region name mapping
    description: |
      Maps region names produced by the template to new names for use
      outside the template. Unmapped region names pass through unchanged.
      When omitted, all regions keep their original names.
    type: object
    propertyNames:
      $ref: "schema:ethdebug/format/pointer/identifier"
    additionalProperties:
      $ref: "schema:ethdebug/format/pointer/identifier"

required:
  - template

additionalProperties: false

examples:
  - template: "string-storage-pointer"

  - template: "string-storage-pointer"
    yields:
      data: "name-data"
      length: "name-length"
