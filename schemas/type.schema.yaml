$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "schema:ethdebug/format/type"

title: ethdebug/format/type
description:
  Canonical representation for all types.
type: object

if:
  title: KnownKind
  description:
    If `kind` adheres to the set of known kinds defined by this format
  properties:
    kind:
      oneOf:
        - $ref: "schema:ethdebug/format/type/elementary#/$defs/Kind"
        - $ref: "schema:ethdebug/format/type/complex#/$defs/Kind"

then:
  title: KnownType
  description:
    Then the object must adhere to exactly one known kind of type
  oneOf:
    - $ref: "schema:ethdebug/format/type/elementary"
    - $ref: "schema:ethdebug/format/type/complex"

else:
  description:
    Else the object must be a valid base Type and specify `class`
  allOf:
    - $ref: "schema:ethdebug/format/type/base"
    - required:
        - class
