(self.webpackChunk_ethdebug_format_web=self.webpackChunk_ethdebug_format_web||[]).push([[8107],{12162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>u});var s=n(52322),r=n(45392),o=n(20477),i=n(61376);const c={sidebar_position:4},a="Cursor objects",l={id:"implementation-guides/pointers/types/cursors",title:"Cursor objects",description:"The core functionality that @ethdebug/pointers provides is the",source:"@site/docs/implementation-guides/pointers/types/cursors.mdx",sourceDirName:"implementation-guides/pointers/types",slug:"/implementation-guides/pointers/types/cursors",permalink:"/format/docs/implementation-guides/pointers/types/cursors",draft:!1,unlisted:!1,editUrl:"https://github.com/ethdebug/format/tree/main/packages/web/docs/implementation-guides/pointers/types/cursors.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"Data and machines",permalink:"/format/docs/implementation-guides/pointers/types/data-and-machines"},next:{title:"Reading from pointer regions",permalink:"/format/docs/implementation-guides/pointers/reading-from-regions"}},d={},u=[{value:"Cursor views and regions",id:"cursor-views-and-regions",level:2}];function p(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"cursor-objects",children:"Cursor objects"}),"\n",(0,s.jsxs)(t.p,{children:["The core functionality that ",(0,s.jsx)(t.strong,{children:"@ethdebug/pointers"})," provides is the\n",(0,s.jsx)(t.code,{children:"dereference(pointer: Pointer)"})," function. This function returns a ",(0,s.jsx)(t.code,{children:"Cursor"}),"\nobject."]}),"\n",(0,s.jsx)(i.Z,{packageName:"@ethdebug/pointers",sourcePath:"src/cursor.ts",extract:e=>e.getExportedDeclarations().get("Cursor").find((e=>e.getKind()===o.lGB.InterfaceDeclaration))}),"\n",(0,s.jsxs)(t.p,{children:["A ",(0,s.jsx)(t.code,{children:"Cursor"})," represents the closure around some pointer, generating concrete\ninformation about data locations and bytes ",(0,s.jsx)(t.em,{children:"only in consideration of"}),"\na particular machine state."]}),"\n",(0,s.jsx)(t.h2,{id:"cursor-views-and-regions",children:"Cursor views and regions"}),"\n",(0,s.jsxs)(t.p,{children:["Viewing a ",(0,s.jsx)(t.code,{children:"Cursor"})," with a machine state yields two key results:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["A collection of ",(0,s.jsx)(t.code,{children:"Cursor.Region"})," objects representing the pointer in\nterms of fully-evaluated slots, offsets, conditionals, etc."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["A ",(0,s.jsx)(t.code,{children:"read(region: Cursor.Region): Promise<Data>"})," method for reading\nbytes from the machine"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Importantly"}),", a ",(0,s.jsx)(t.code,{children:"Cursor.Region"})," is a fully-evaluated\n",(0,s.jsx)(t.code,{children:"Pointer.Region"}),". While the schema allows pointer regions to\ndefine their slots, offsets, lengths, etc. using complex expressions that\ncan reference internal variables and other regions, a ",(0,s.jsx)(t.code,{children:"Cursor.Region"}),"\nrepresents the runtime result of evaluating all these expressions: a\nspecific range of bytes in a specific data location."]}),"\n",(0,s.jsxs)(t.p,{children:["The full listing of ",(0,s.jsx)(t.code,{children:"namespace Cursor"})," follows:"]}),"\n",(0,s.jsx)(i.Z,{packageName:"@ethdebug/pointers",sourcePath:"src/cursor.ts",extract:e=>e.getExportedDeclarations().get("Cursor").find((e=>e.getKind()===o.lGB.ModuleDeclaration))})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},48313:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=48313,e.exports=t},61376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(84560),r=n.n(s),o=n(20477),i=n(42408);var c=n(2784),a=n(27718),l=n(52322);function d(e){let{code:t,links:n,...s}=e;const o=(0,c.useRef)(null),[i,a]=(0,c.useState)(null);return(0,c.useEffect)((()=>{function e(){if(o.current){const e=o.current.querySelector("pre > code");if(e){const t=Array.from(e.childNodes).flatMap((e=>u(e,n)));a((0,l.jsx)("pre",{className:e.parentElement?.className,children:(0,l.jsx)("code",{className:e.className,children:t})}))}}}e();const t=new MutationObserver(e);return o.current&&t.observe(o.current,{childList:!0,subtree:!0}),()=>t.disconnect()}),[t,n]),i||(0,l.jsx)("div",{ref:o,children:(0,l.jsx)(r(),{...s,children:t})})}function u(e,t){return e.nodeType===Node.TEXT_NODE?function(e,t){const n=[];let s=e.textContent||"",r=0;for(const[o,i]of Object.entries(t)){let e=s.indexOf(o,r);for(;-1!==e;)e>r&&n.push(s.slice(r,e)),n.push((0,l.jsx)(a.Z,{to:i,className:"linked-code-block-link",children:o},`${o}-${e}`)),r=e+o.length,e=s.indexOf(o,r)}r<s.length&&n.push(s.slice(r));return n}(e,t):e.nodeType===Node.ELEMENT_NODE?function(e,t){const n=e.tagName.toLowerCase(),s={key:p++,className:e.className};e.style&&e.style.cssText&&(s.style=function(e){const t={};for(const n of e.split(";"))if(n){const[e,s]=n.split(":");if(e&&s){t[e.trim().replace(/-./g,(e=>e[1].toUpperCase()))]=s.trim()}}return t}(e.style.cssText));if(h.has(n))return c.createElement(n,s);const r=Array.from(e.childNodes).flatMap((e=>u(e,t)));return c.createElement(n,s,r)}(e,t):[]}let p=0;const h=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function m(e){let{packageName:t,sourcePath:n,extract:s,links:c={},...a}=e;const u=function(e){const{packages:t}=(0,i.eZ)("project-code-plugin");if(!(e in t))throw new Error(`Unknown package name ${e}`);const{sourceFiles:n}=t[e],s=new o.IKL({useInMemoryFileSystem:!0});for(const{filePath:r,text:o}of n)s.createSourceFile(r,o,{overwrite:!0});return s}(t),p=u.getSourceFileOrThrow(n),h=s?s(p,u):p,m=h.getFullText().trim(),f=!s;return Object.keys(c).length>0?(0,l.jsx)(d,{code:m,links:c,language:"typescript",...a}):(0,l.jsx)(r(),{language:"typescript",...f?{title:n,showLineNumbers:!0}:{showLineNumbers:!1},...a,children:h.getFullText().trim()})}},56699:()=>{},68379:()=>{},68382:()=>{},78867:()=>{},21212:()=>{},89854:()=>{},25800:()=>{},93037:()=>{},26996:()=>{}}]);