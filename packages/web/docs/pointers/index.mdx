---
sidebar_position: 1
---

# Pointers

Pointers describe where data lives in the EVM. They're recipes that tell a
debugger how to find bytes at runtime—recipes that can depend on the current
machine state.

## Why pointers are complex

In high-level languages, a variable like `uint256 balance` seems simple. But
at the EVM level, finding that value might require:

1. Reading a storage slot whose address depends on a mapping key
2. Following a memory pointer stored on the stack
3. Computing an offset based on array indices

A pointer in **ethdebug/format** captures all this complexity in a
self-contained description.

## Core concepts

### Pointers are recursive

A pointer is either:

- A **region**: a single, continuous sequence of bytes
- A **collection**: an aggregation of other pointers

This recursive structure lets you build up complex allocations from simple
pieces.

### Regions locate bytes

A region identifies a contiguous block of bytes in a specific data location:

```json
{
  "location": "memory",
  "offset": "0x40",
  "length": 32
}
```

This says: "32 bytes in memory starting at offset 0x40."

Different locations use different addressing schemes:

- **Memory, calldata, returndata, code**: byte offsets (`offset` + `length`)
- **Storage, transient, stack**: slot-based (`slot`)

### Collections group pointers

When data spans multiple regions (like struct members), collections aggregate
them:

```json
{
  "group": [
    {
      "name": "balance",
      "location": "memory",
      "offset": "0x40",
      "length": 32
    },
    {
      "name": "owner",
      "location": "memory",
      "offset": "0x60",
      "length": 32
    }
  ]
}
```

Collection types include `group`, `list`, `conditional`, and more. See
[collections](./collections) for the complete reference.

### Expressions make pointers dynamic

Real allocations rarely use constant offsets. Expressions let you compute
addresses from runtime state—reading values from named regions, performing
arithmetic, and computing keccak256 hashes for storage slot calculation.

See [expressions](./expressions) for the full expression language.

### Named regions enable composition

Regions can have names that other parts of the pointer reference. This allows
one region's address to be computed from another's properties, or its value to
be read and used in expressions. See [expressions](./expressions) for the full
expression language.

## What's next

<div className="row">
  <div className="col col--6">
    <div className="card margin-bottom--md">
      <div className="card__header">
        <h3>Regions</h3>
      </div>
      <div className="card__body">
        <p>How to specify byte ranges in different data locations.</p>
      </div>
      <div className="card__footer">
        <a className="button button--secondary button--block" href="./regions">
          Learn more →
        </a>
      </div>
    </div>
  </div>
  <div className="col col--6">
    <div className="card margin-bottom--md">
      <div className="card__header">
        <h3>Expressions</h3>
      </div>
      <div className="card__body">
        <p>Computing dynamic locations with arithmetic and hashing.</p>
      </div>
      <div className="card__footer">
        <a
          className="button button--secondary button--block"
          href="./expressions"
        >
          Learn more →
        </a>
      </div>
    </div>
  </div>
</div>

<div className="row">
  <div className="col col--6">
    <div className="card margin-bottom--md">
      <div className="card__header">
        <h3>Collections</h3>
      </div>
      <div className="card__body">
        <p>Grouping pointers for structs, arrays, and conditionals.</p>
      </div>
      <div className="card__footer">
        <a
          className="button button--secondary button--block"
          href="./collections"
        >
          Learn more →
        </a>
      </div>
    </div>
  </div>
  <div className="col col--6">
    <div className="card margin-bottom--md">
      <div className="card__header">
        <h3>Implementation guide</h3>
      </div>
      <div className="card__body">
        <p>Build a pointer resolver for your debugger.</p>
      </div>
      <div className="card__footer">
        <a
          className="button button--secondary button--block"
          href="/docs/implementation-guides/pointers"
        >
          Learn more →
        </a>
      </div>
    </div>
  </div>
</div>

<div className="row">
  <div className="col col--6">
    <div className="card margin-bottom--md">
      <div className="card__header">
        <h3>Full specification</h3>
      </div>
      <div className="card__body">
        <p>Complete JSON schemas and expression reference.</p>
      </div>
      <div className="card__footer">
        <a
          className="button button--secondary button--block"
          href="/spec/pointer"
        >
          View spec →
        </a>
      </div>
    </div>
  </div>
</div>
