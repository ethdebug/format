<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-known-challenges" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Known challenges | ethdebug format</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ethdebug.github.io/format/docs/known-challenges"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Known challenges | ethdebug format"><meta data-rh="true" name="description" content="The fundamental challenge for an Ethereum debugging data format is that, on the"><meta data-rh="true" property="og:description" content="The fundamental challenge for an Ethereum debugging data format is that, on the"><link data-rh="true" rel="icon" href="/format/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ethdebug.github.io/format/docs/known-challenges"><link data-rh="true" rel="alternate" href="https://ethdebug.github.io/format/docs/known-challenges" hreflang="en"><link data-rh="true" rel="alternate" href="https://ethdebug.github.io/format/docs/known-challenges" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Known challenges","item":"https://ethdebug.github.io/format/docs/known-challenges"}]}</script><link rel="stylesheet" href="/format/assets/css/styles.56fba0db.css">
<script src="/format/assets/js/runtime~main.f7b4e508.js" defer="defer"></script>
<script src="/format/assets/js/main.c680f76e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/format/"><div class="navbar__logo"><img src="/format/img/logo.svg" alt="ethdebug logo" class="themedComponent_DHUr themedComponent--light_DIHH"><img src="/format/img/logo.svg" alt="ethdebug logo" class="themedComponent_DHUr themedComponent--dark_Bv2M"></div><b class="navbar__title text--truncate">ethdebug format</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/format/docs/overview">Documentation</a><a class="navbar__item navbar__link" href="/format/spec/overview">Specification</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link status-indicator" href="/format/status">Status: Draft</a><a href="https://github.com/ethdebug/format" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ systemToggleIcon_txm5"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_bmvg"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_UyTV"><div class="docsWrapper_XLvK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docRoot_HciC"><aside class="theme-doc-sidebar-container docSidebarContainer_e5ai"><div class="sidebarViewport_N8x0"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/format/docs/overview"><span title="Project overview" class="linkLabel_PuAu">Project overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/format/docs/goals"><span title="Goals" class="linkLabel_PuAu">Goals</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/format/docs/known-challenges"><span title="Known challenges" class="linkLabel_PuAu">Known challenges</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" href="/format/docs/category/prototype-sketches"><span title="Prototype sketches" class="categoryLinkLabel_Oe72">Prototype sketches</span></a><button aria-label="Expand sidebar category &#x27;Prototype sketches&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" href="/format/docs/implementation-guides/"><span title="Implementation guides" class="categoryLinkLabel_Oe72">Implementation guides</span></a><button aria-label="Expand sidebar category &#x27;Implementation guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_namt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/format/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Known challenges</span></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Known challenges</h1></header>
<p>The fundamental challenge for an Ethereum debugging data format is that, on the
one hand, we want it to be able to handle the complexity of Solidity and other
existing EVM languages; but also, we wish to handle these in a suitably general
manner rather than simply assuming this complexity, so that it may handle other
languages in the future; but also, we want to keep down the complexity of the
format itself if possible.</p>
<p>In what follows we&#x27;ll outline some particular thorns of the EVM in general and
Solidity and Vyper in particular that will have to be addressed. This is not
necessarily a complete list.</p>
<div class="tableOfContentsInline_JBRb"><ul class="table-of-contents"><li><a href="#different-data-formats-per-location">Different data formats per location</a></li><li><a href="#the-word-based-nature-of-storage-and-the-stack">The word-based nature of storage and the stack</a></li><li><a href="#complex-stride-patterns">Complex stride patterns</a></li><li><a href="#the-use-of-hash-based-locations">The use of hash-based locations</a></li><li><a href="#soliditys-two-case-string-storage">Solidity&#39;s two-case string storage</a></li><li><a href="#mappings">Mappings</a></li><li><a href="#markings-for-mapping-keys">Markings for mapping keys</a></li><li><a href="#the-use-of-pointers-in-or-to-calldata">The use of pointers in or to calldata</a></li><li><a href="#internal-function-pointers">Internal function pointers</a></li><li><a href="#lack-of-fixed-variable-locations-on-the-stack">Lack of fixed variable locations on the stack</a></li><li><a href="#the-possibility-of-handling-other-languages">The possibility of handling other languages</a></li></ul></div>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="different-data-formats-per-location">Different data formats per location<a href="#different-data-formats-per-location" class="hash-link" aria-label="Direct link to Different data formats per location" title="Direct link to Different data formats per location" translate="no">​</a></h2>
<p>Any debugging data format will need to handle the fact that in both Solidity and
in Vyper the same type can have different representations depending on which
location (the stack, memory, storage, calldata, or code) it is stored in. As
such it does not suffice to give a single representation for a single type, but
rather, it may be necessary to specify multiple representations, corresponding
to the different data locations.</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="the-word-based-nature-of-storage-and-the-stack">The word-based nature of storage and the stack<a href="#the-word-based-nature-of-storage-and-the-stack" class="hash-link" aria-label="Direct link to The word-based nature of storage and the stack" title="Direct link to The word-based nature of storage and the stack" translate="no">​</a></h2>
<p>Of the data locations mentioned above, most are byte-based, but two, the stack
and storage, are word-based. This will likely necessitate slightly different
handling for them.</p>
<p>Moreover, the fact that these two locations are word-based means there can be a
need to specify endianness. For instance, in Solidity, arrays may pack multiple
elements into the same storage word, starting from the low byte. However,
segments of strings in storage start at the high byte of their word. So it will
be necessary to have a way to specify this. (In particular, consider the case
of a <code>bytes2[] storage</code>; each <code>bytes2</code> is packed into the word in a
little-endian order, but each <code>bytes2</code> itself is stored in a big-endian order.)</p>
<p>(Of course, there can also be a need to specify endianness in byte-based
locations, e.g. for storage of integers. Currently all EVM languages known to
me do this in a big-endian fashion, because this is what the EVM makes
convenient. It may be OK to assume that integers are big-endian, but the
reverse possibility is at least worth noting.)</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="complex-stride-patterns">Complex stride patterns<a href="#complex-stride-patterns" class="hash-link" aria-label="Direct link to Complex stride patterns" title="Direct link to Complex stride patterns" translate="no">​</a></h2>
<p>In most languages, elements of an array are stored consecutively to one another.
However, this is not always the case, and so the DWARF debugging data format
allows one to distinguish between the lengths of the array elements and the
lengths of the array stride; this allows one to handle, say, the case of an
array whose elements are 2 bytes long but which each only begin on 8-byte
boundaries.</p>
<p>However, this simple notion of stride length is not sufficient for handling
Solidity&#x27;s storage arrays, whose stride patterns can be more complex. Solidity
allows for multiple elements in an array to be packed into a word, without
filling the whole word. If we for a moment ignore the word-based nature of
storage and instead think of it as byte-based in a little-endian fashion,
Solidity allows for patterns like &quot;15 bytes for one element, 15 bytes for the
next element, 2 bytes of empty space, repeat&quot;, which can&#x27;t be expressed with a
simple stride length.</p>
<p>As such it may be necessary to provide a way to specify more complex stride
patterns (or packing patterns, as that&#x27;s really what these are).</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="the-use-of-hash-based-locations">The use of hash-based locations<a href="#the-use-of-hash-based-locations" class="hash-link" aria-label="Direct link to The use of hash-based locations" title="Direct link to The use of hash-based locations" translate="no">​</a></h2>
<p>Storage slots in both Solidity and Vyper are often assigned based on the Keccak
hash of various things; e.g., in a dynamically-sized array in Solidity, if the
length is stored at a slot <code>p</code>, the elements are stored beginning at
<code>keccak(p)</code>.</p>
<p>The format needs some way to be able to specify this. This also raises the
question of whether we should allow for other hash functions. Other hash
functions are unlikely to be used due to the EVM making keccak much more
convenient than other hashes, but it may not be the only possibility as there
are precompiles for both SHA-256 and RIPEMD-160.</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="soliditys-two-case-string-storage">Solidity&#x27;s two-case string storage<a href="#soliditys-two-case-string-storage" class="hash-link" aria-label="Direct link to Solidity&#x27;s two-case string storage" title="Direct link to Solidity&#x27;s two-case string storage" translate="no">​</a></h2>
<p>Solidity, when storing strings in storage, uses a two-case format, with one case
for if it&#x27;s 31 bytes or shorter, and another case for 32 bytes or longer.</p>
<p>In order to handle this, it may be necessary to have a notion of union
representations, somewhat similar to the notion of union types?</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="mappings">Mappings<a href="#mappings" class="hash-link" aria-label="Direct link to Mappings" title="Direct link to Mappings" translate="no">​</a></h2>
<p>Both Solidity and Vyper use mappings, and while these work similarly in both
languages, the two aren&#x27;t the same. It will be necessary to handle both styles,
and ideally other potential styles as well.</p>
<p>In both languages, given a mapping at position <code>p</code> and a key <code>k</code>, the value
corresponding to <code>k</code> is stored at a location determined by the Keccak hash of a
combination of <code>p</code> and <code>k</code>. But the details differ both by the language, and
whether we are looking at a value type that fits into a word, or whether we are
looking at a string or bytestring.</p>
<p>Solidity always performs the computation <code>keccak(k.p)</code>, where the <code>.</code> represents
concatenation. However, for value types the key is padded to a full word, while
for a string or bytestring, no padding is used.</p>
<p>Vyper is similar, but differs in two ways. For value types, the computation is
instead <code>keccak(p.k)</code>, with the concatenands in the other order; note that <code>k</code>
is still padded. Meanwhile, for strings and bytestrings, the computation is
instead <code>keccak(p.keccak(k))</code> (again with no padding on <code>k</code>). There will need
to be a way to specify this additional complexity.</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="markings-for-mapping-keys">Markings for mapping keys<a href="#markings-for-mapping-keys" class="hash-link" aria-label="Direct link to Markings for mapping keys" title="Direct link to Markings for mapping keys" translate="no">​</a></h2>
<p>The problem of keeping track of mapping keys is worth discussing separately.</p>
<p>Mappings do not keep track of their keys; as such, it is up to the debugger to
keep track of mapping keys touched in a given transaction. This will require
some kind of markings.</p>
<p>Truffle Debugger currently handles this by using the AST and determining what
value on the stack corresponds to the key specified for a given mapping access.
However, this process is complex and requires several workarounds for unusual
cases. While presumably markings could be devised that allow this process to
work in more generality, it&#x27;s not clear that it&#x27;s actually a good solution.</p>
<p>An alternate approach, suggested some time ago by Nomic Labs, would be to have
markings applied to the SHA3 instructions that hash key/slot combinations.
However, in the case of Vyper, for strings and bytestrings, one would presumably
also need to separately (and differently) mark the SHA3 instruction where the
string or bytestring is pre-hashed, prior to the main hashing.</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="the-use-of-pointers-in-or-to-calldata">The use of pointers in or to calldata<a href="#the-use-of-pointers-in-or-to-calldata" class="hash-link" aria-label="Direct link to The use of pointers in or to calldata" title="Direct link to The use of pointers in or to calldata" translate="no">​</a></h2>
<p>In Solidity&#x27;s ABI encoding format (used also by Vyper), which is necessarily
used for variables stored in calldata, pointers are relative. However, they are
not relative to their own location, but rather relative to the start of the
structure containing them. There will need to be some way to handle this.</p>
<p>Moreover, for types in Solidity with a variable number of elements (including
strings and bytestrings), pointers on the stack to that type in calldata do not
point to the beginning of the calldata representation (which would start with
the length), but rather have both a start word and a length word, with the start
word pointing just past where the length is stored (to the beginning of the
actual contents). It will be necessary to handle this as well.</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="internal-function-pointers">Internal function pointers<a href="#internal-function-pointers" class="hash-link" aria-label="Direct link to Internal function pointers" title="Direct link to Internal function pointers" translate="no">​</a></h2>
<p>Solidity includes internal function types, which have several associated
challenges.</p>
<p>Firstly, there are two different formats for these (depending on whether or not
<code>viaIR</code> was set in compilation), so it will be necessary to handle both.</p>
<p>Secondly, the format with <code>viaIR</code> turned on relies on assigning functions to
arbitrary numeric indices, so the format will have to include information
mapping indices to functions.</p>
<p>Thirdly, in the format with <code>viaIR</code> turned off, an internal function pointer
actually breaks down into one PC value for the deployed code and one PC value
for the constructor code (although the latter is not always set and is sometimes
left as zero). So there will need to be a way to specify this complexity.</p>
<p>Moreover, an internal function pointer can point to a designated revert function
introduced by the compiler rather than defined by the user; it will be necessary
to handle this case.</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="lack-of-fixed-variable-locations-on-the-stack">Lack of fixed variable locations on the stack<a href="#lack-of-fixed-variable-locations-on-the-stack" class="hash-link" aria-label="Direct link to Lack of fixed variable locations on the stack" title="Direct link to Lack of fixed variable locations on the stack" translate="no">​</a></h2>
<p>In languages that put variables on the stack, those variables may not have a
fixed location. (For instance, Solidity with optimization turned on.) There
will need to be a way to keep track of variables that move around on the stack.</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="the-possibility-of-handling-other-languages">The possibility of handling other languages<a href="#the-possibility-of-handling-other-languages" class="hash-link" aria-label="Direct link to The possibility of handling other languages" title="Direct link to The possibility of handling other languages" translate="no">​</a></h2>
<p>This is something of a reiteration of the initial point, but it would be ideal
to be able to handle features that we may expect to see in other languages even
if they do not appear in Solidity or Vyper.</p>
<p>For instance, the (now-defunct) EVM language Pyramid was (largely) dynamically
typed, making each variable effectively a sum type. Sum types are an example of
a feature we may want to be able to handle even if not present in either
Solidity or Vyper.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_HJkF"><a href="https://github.com/ethdebug/format/tree/main/packages/web/docs/known-challenges.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UohW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_g62E"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/format/docs/goals"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Goals</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/format/docs/category/prototype-sketches"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Prototype sketches</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#different-data-formats-per-location" class="table-of-contents__link toc-highlight">Different data formats per location</a></li><li><a href="#the-word-based-nature-of-storage-and-the-stack" class="table-of-contents__link toc-highlight">The word-based nature of storage and the stack</a></li><li><a href="#complex-stride-patterns" class="table-of-contents__link toc-highlight">Complex stride patterns</a></li><li><a href="#the-use-of-hash-based-locations" class="table-of-contents__link toc-highlight">The use of hash-based locations</a></li><li><a href="#soliditys-two-case-string-storage" class="table-of-contents__link toc-highlight">Solidity&#39;s two-case string storage</a></li><li><a href="#mappings" class="table-of-contents__link toc-highlight">Mappings</a></li><li><a href="#markings-for-mapping-keys" class="table-of-contents__link toc-highlight">Markings for mapping keys</a></li><li><a href="#the-use-of-pointers-in-or-to-calldata" class="table-of-contents__link toc-highlight">The use of pointers in or to calldata</a></li><li><a href="#internal-function-pointers" class="table-of-contents__link toc-highlight">Internal function pointers</a></li><li><a href="#lack-of-fixed-variable-locations-on-the-stack" class="table-of-contents__link toc-highlight">Lack of fixed variable locations on the stack</a></li><li><a href="#the-possibility-of-handling-other-languages" class="table-of-contents__link toc-highlight">The possibility of handling other languages</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/format/docs/overview">Project overview</a></li><li class="footer__item"><a class="footer__link-item" href="/format/docs/known-challenges">Known challenges</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Spec</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/format/spec/overview">Specification overview</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://matrix.to/#/#ethdebug:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix.chat<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/ethdebug" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ethdebug/format" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 by ethdebug contributors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>